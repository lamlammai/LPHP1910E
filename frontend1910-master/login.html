<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Login</title>
	<link rel="stylesheet" href="css/bootstrap.css">
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-12 col-sm-12 col col-md-6 offset-md-3 col-lg-6 offset-lg-3 ">
				<form class="border p-3 m-3">
					<div class="form-group">
						<label for="user">Username</label>
						<input type="text" id="user" class="form-control" >
						<p class="err-user"></p>
						<label for="password">Password</label>
						<input type="password" id="pass" class="form-control" >
						<p class="err-pass"></p>
					</div>
					<button type="button" class="btn btn-primary">Login</button>
				</form>
				<br><br>
				<form class="border p-3">
					<h3>Kiem tra So Nguyen To</h3>
					<div class="form-group">
						<label for="txtNUmber">Number</label>
						<input type="text" id="txtNumber" class="form-control">
						<p class="err-number"></p>
					</div>
					<button class="btn btn-primary" type="button" id="check">Kiem tra</button>
					<h4 id="result"></h4>
				</form>
				<br><br>
				<textarea class="form-control"id="content">
				</textarea>
				<p class="my-2" id="text"></p>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		let btnlogin=document.querySelector('button');
		btnlogin.addEventListener('click', function(){
			let inputUser=document.getElementById('user');
			let inputPassword=document.getElementById('pass');
			let username=inputUser.value;
			let password=inputPassword.value;
			let checkUser=null;
			let checkPass=null;
			if(username.length>0){
				//da nhap du lieu
				checkUser=true;
				document.getElementsByClassName('err-user')[0].innerHTML='';
				inputUser.style.border = '1px solid #cccccc';
			}
			else{
				//chua nhap du lieu
				checkUser=false;
				//thong bao loi va cac hieu ung cho nguoi dung biet
				document.getElementsByClassName('err-user')[0].innerHTML='vui long nhap Username';
				inputUser.style.border = '1px solid red';
			}
			if(password.length>0){
				checkPass=true;
				document.getElementsByClassName('err-pass')[0].innerHTML='';
				inputUser.style.border = '1px solid #cccccc';
			}
			else {
				checkPass=false;
				document.getElementsByClassName('err-user')[0].innerHTML='vui long nhap mat khau';
				inputUser.style.border = '1px solid #cccccc';
				
			}

			if(checkPass &&checkUser){
				if(username==='admin' &&password==='123'){
					window.location.href='shopping.html';
				}
				else {
					alert('mat khau khong dung');
				}
			}
			return false; //dung khong lam gi nua
		});

		document.getElementById('check').addEventListener('click', function(){
			let inputNumber=document.getElementById('txtNumber');
			let number=inputNumber.value;
			if(!isNaN(number)&&number.length>0){
				//no la so
				document.getElementsByClassName('err-number')[0].innerHTML='';
				inputNumber.style.border='1px solid #cccccc';
				if (ktraSnt(number)){
					document.getElementById('result').innerHTML=`${number} la so nguyen to`;
				}else {
					document.getElementById('result').innerHTML=`${number} khong la so nguyen to`;
				}
			}else{
				//khong phai so
				document.getElementsByClassName('err-number')[0].innerHTML='vui long nhap so';
				inputNumber.style.border='1px solid red';
				document.getElementById('result').innerHTML='';
			}
		});
		function ktraSnt(a){
			if(a<=1){
				return false;
			}
			if(a==2){
				return true;
			}
			for(let i=2;i<Math.sqrt(a);i++)
			{
				if(a%i==0){
					return false;
				}
			}
			return true;
		}
		document.getElementById('content').addEventListener('keyup', function(){
			let val=this.value;
			document.getElementById('text').innerHTML=val;
		});
	</script>
</body>
</html>