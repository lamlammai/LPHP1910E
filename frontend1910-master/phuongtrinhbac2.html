<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Phuong trinh bac 2</title>
	<link rel="stylesheet" href="css/bootstrap.css">
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-12 col-sm-12 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-6 offset-xl-3">
				<h1>Giai phuong trinh bac 2</h1>
				<form class="border p-5 mb-3">
					<div class="form-group">
						<label for="hsa">He so a: </label>
						<input type="text" name="" value="" id="hsa" class="form-control">
						<p class="text-danger" id="errhsa"></p>
					</div>
					<div class="form-group">
						<label for="hsa">He so b: </label>
						<input type="text" name="" value="" id="hsb" class="form-control">
						<p class="text-danger" id="errhsb"></p>
					</div>
					<div class="form-group">
						<label for="hsa">He so c: </label>
						<input type="text" name="" value="" id="hsc" class="form-control">
						<p class="text-danger" id="errhsc"></p>
					</div>
					<button class="btn btn-primary" type="button" id="btnPT">Giai PT</button>
					<button class="btn btn-danger" type="button" id="reset">Reset</button>
				</form>
				<p class="text-success" id="result"></p>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		let btnPT=document.getElementById('btnPT');
		btnPT.addEventListener('click', function(){
			let hsa=document.getElementById('hsa');
			let hsb=document.getElementById('hsb');
			let hsc=document.getElementById('hsc');

			let valhsa=hsa.value;
			valhsa=valhsa.trim();
			let valhsb=hsb.value;
			valhsb=valhsb.trim();
			let valhsc=hsc.value;
			valhsc=valhsc.trim();
			//nhung co kiem tra
			let flagHsa=null;
			let flagHsb=null;
			let flagHsc=null;
			//kiem tra he so a co phai la so
			if(!isNaN(valhsa)&&valhsa.length>0){
				//la so
				flagHsa=true;
				hsa.style.border = '1px solid #cccccc';
				document.getElementById('errhsa').innerHTML='';
			}else {
				//khong phai la so
				flagHsa=false;
				hsa.style.border = '1px solid red';
				document.getElementById('errhsa').innerHTML='vui long nhap so';
			}
			if(!isNaN(valhsb)&&valhsb.length>0){
				//la so
				flagHsb=true;
				hsb.style.border = '1px solid #cccccc';
				document.getElementById('errhsb').innerHTML='';
			}else {
				//khong phai la so
				flagHsb=false;
				hsb.style.border = '1px solid red';
				document.getElementById('errhsb').innerHTML='vui long nhap so';
			}
			if(!isNaN(valhsc)&&valhsc.length>0){
				//la so
				flagHsc=true;
				hsc.style.border = '1px solid #cccccc';
				document.getElementById('errhsc').innerHTML='';
			}else {
				//khong phai la so
				flagHsc=false;
				hsc.style.border = '1px solid red';
				document.getElementById('errhsc').innerHTML='vui long nhap so';
			}
			if(flagHsa==true&&flagHsb==true&&flagHsc==true){

				let result=giaiPT(valhsa, valhsb, valhsc);
				if(!result){

					document.getElementById('result').innerHTML='Phuong trinh vo nghiem';
				}else {
					document.getElementById('result').innerHTML=result;
				}
			}
			else {
				//an ket qua nghiem khi co loi
				document.getElementById('result').innerHTML='';
					
			}
			
		});
		function giaiPT(a,b,c){
			if(a==0){
				if(b==0){
					if(c==0){
						return 'Phuong trinh vo so nghiem';
					}else {
						return 'phuong trinh vo nghiem';
					}
				}else {
					return `phuong trinh co 1 nghiem x=${-c/b}`;
				}
			}else {
				let delta=(b*b)-4*a*c;
				if(delta==0){
					return `phuong trinh co nghiem kep x1=x2= ${-b/(2*a)}`;
				}else if(delta<0){
					return false;
				}else {
					let x1=(-b+Math.sqrt(delta))/(2*a);
					let x2=(-b-Math.sqrt(delta))/(2*a);
					return `phuong trinh co 2 nghiem x1=${x1} va x2=${x2}`;
				}
			}
		}
	</script>
</body>
</html>